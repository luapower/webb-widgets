<!DOCTYPE html>
<html>
<head>
<title>X-MODULE</title>
<meta charset="utf-8">
<style>

html, body {
	position: relative;
	margin: 0;
	height: 100%;
	display: grid;
}

* { box-sizing: border-box; }

@font-face {
	font-family: "x-widget";
	src: url("/OpenSans-Regular.ttf");
}

@font-face {
	font-family: "x-widget";
	src: url("/OpenSans-SemiBold.ttf");
	font-weight: bold;
}

@font-face {
	font-family: "x-widget-condensed";
	src: url("/OpenSansCondensed-Bold.ttf");
	font-weight: bold;
}
</style>

<script src="ace.js" integrity="sha256-+svOVB1WmhKhTy7N21gWvtyXn91qF0r52P2hIArRRug="></script>

<link rel="stylesheet" type="text/css" href="fontawesome.css">
<link rel="stylesheet" type="text/css" href="x-widgets.css">

<script src="glue.js"></script>
<script src="divs.js"></script>
<script src="ajax.js"></script>
<script src="url.js"></script>
<script src="x-widgets.js"></script>
<script src="x-nav.js"></script>
<script src="x-listbox.js"></script>
<script src="x-grid.js"></script>
<script src="x-country-dropdown.js"></script>
<script src="x-cssgrid.js"></script>
<script src="xmodule.js"></script>

</head>

<body>
<script>

//DEBUG_EVENTS = true
//DEBUG_ATTACH_TIME = true

// ---------------------------------------------------------------------------
// main app
// ---------------------------------------------------------------------------

allow_editing = true

document.body.on('keydown', function(key, shift, ctrl) {
	if (key == 's' && ctrl) {
		xmodule.save()
		return false
	}
})

xmodule = xmodule({
	prop_layer_slots: {
		base: null,
		pri_lang: null,
		sec_lang: null,
		app: null,
		user: null,
	},
})

root_widget = null

xmodule.set_prop_layer('base', 'base', null, function() {
	root_widget = component.create('lma1')
	document.body.add(root_widget)
})

prop_layers_tb = prop_layers_toolbox({
	popup_y: 2, w: 222, h: 225,
})
prop_layers_tb.show(true, true)

props_tb = properties_toolbox({
	popup_y: 230, w: 222, h: 397,
}, {header_w: 80})
props_tb.show(true, true)

tree_tb = widget_tree_toolbox({
	popup_y: 630, w: 222, h: 311,
})
tree_tb.show(true, true)

</script>
</body>
</html>
